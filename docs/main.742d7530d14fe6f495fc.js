(()=>{"use strict";const e=[{title:"Spam",subtitle:"Misleading or repetitive posts",id:111},{title:"Nudity or pornography",subtitle:"Misleading or repetitive posts",id:222},{title:"Self-mutilation",subtitle:"Eating disorders, self-injury, suicide",id:333},{title:"Fake information",subtitle:"False information about health, climate, voting or conspiracy theory",id:444},{title:"Aggressive actions",subtitle:"Prejudices, stereotypes, white supremacy, insults",id:555},{title:"Dangerous Goods",subtitle:"Drugs, weapons, regulated goods",id:666}],t=[{title:"Desk 1",id:"777"},{title:"Desk 2",id:"888"},{title:"Desk 3",id:"999"}];function n(e,n){const c=document.createElement("div");c.className="modal-select-desk",c.id=event.target.parentNode.id;const a=document.createElement("h2");a.className="modal__title",a.innerText="Complain";const o=document.createElement("form");o.className="modal__form";const s=document.createElement("ul");s.className="modal__list";const i=n.map((({title:e,subtitle:t,id:n})=>{const c=document.createElement("li");c.className="modal__list-item";const a=document.createElement("input");a.className="modal__list-item-checkbox",a.type="checkbox",a.id=n;const o=document.createElement("label");if(o.className="modal__list-item-name",o.innerText=e,t){const e=document.createElement("div");return e.className="modal__list-item-subtitle",e.innerText=`${t}`,c.append(a,o,e),c}return c.append(a,o),c})),d=document.createElement("div");d.className="modal__btn-content";const r=document.createElement("button");r.className="modal__send-btn",r.innerText="Send";const l=document.createElement("button");return l.className="modal__close-btn",l.innerText="Close",l.addEventListener("click",(()=>{e.remove()})),d.append(r,l),r.addEventListener("click",(()=>{const n=document.querySelectorAll(".modal__list-item-checkbox"),a=c.id;new Array(...n).filter((e=>e.checked)).map((e=>{const[n]=t.filter((({id:t})=>e.id===t));return n?.title})).forEach((e=>{const t=JSON.parse(localStorage.getItem(e))||[];t.push(a),localStorage.setItem(e,JSON.stringify(t))})),e.remove()})),s.append(...i),o.append(s,d),c.append(a,o),c}function c(c){const a=document.createElement("div");a.classList.add("modal-overlay");const o=c.target.parentNode,s=document.createElement("div");s.classList.add("modal"),s.id=o.id,a.append(s),document.body.appendChild(a),a.addEventListener("click",(e=>{e.target===a&&e.target.remove()}));const i=c.target.dataset.card;"one"===i?s.append(n(a,t)):"two"===i&&s.append(n(a,e))}function a(e){const t=e.target.parentNode,n=document.createElement("div");n.id=t.id,n.classList.add("card-content-menu-active");const a=document.createElement("button");a.type="button",a.classList="card-btn-add-drop card__btn",a.innerText="Add to desk",a.dataset.card="one";const o=document.createElement("button");o.type="button",o.classList="card-btn-complain card__btn",o.innerText="Complain",o.dataset.card="two",n.append(a,o),t.append(n),a.addEventListener("click",c),o.addEventListener("click",c);const s=e=>{e.target.parentNode.id!==t.id&&(n.remove(),window.removeEventListener("click",s))};window.addEventListener("click",s),n.addEventListener("click",(()=>s(e,n)))}const o=document.querySelector(".container");const s=document.querySelector(".container");function i(e){s.innerHTML="",e.forEach((({name:e,avatar:t,image:n,id:c})=>function(e,t,n,c){const s=document.createElement("div");s.className="card",s.id=c;const i=document.createElement("img");i.src=n,i.className="card-image",i.alt="A windmill";const d=document.createElement("button");d.className="card-content-menu",d.addEventListener("click",a);const r=document.createElement("div");r.className="card-author";const l=document.createElement("img");l.className="card-author-icon",l.src=t;const m=document.createElement("p");m.className="card-author-name",m.innerText=e,r.append(l,m),s.append(i,d,r),o.append(s)}(e,t,n,c)))}const d={};function r(e=d.result){const t=localStorage.getItem("DESK")||"Home";if("Home"===t)return void i(e);const n=JSON.parse(localStorage.getItem(t))||[];i(e.filter((({id:e})=>n.includes(e))))}async function l(e,t){const n=document.querySelector(".container"),c=document.createElement("div");c.innerHTML="Not Found";const a=e?.target?.value||t,o=d.result?.filter((e=>e.title.toLowerCase().includes(a.toLowerCase())));n.innerHTML="",o.length>0?r(o):n.append(c)}const m=["Cars","Memes","Sport","Movie","Abstract"];function u(){const e=document.querySelector(".header-search__input");e.id="inputId";const t=document.createElement("div");t.className="container__queries",t.id="dropdownId",t.style.display="none",e.after(t);const n=document.createElement("h2");n.className="queries__title",n.innerText="Popular queries";const c=document.createElement("ul");c.className="queries__list",t.append(n,c),m.forEach((t=>{!async function(e,t,n){const c=document.createElement("li");c.className="queries__list-item";const a=document.createElement("button");a.className="queries__list-item-button",a.innerText=e,t.append(a),t.append(c),a.addEventListener("click",(()=>{n.value=e,l(void 0,e)}))}(t,c,e)})),e.addEventListener("focus",(()=>{t.style.display="block"}));e.addEventListener("input",(e=>{t.style.display=e.target.value.length>0?"none":"block",l(e)})),window.addEventListener("click",(n=>{n.target.parentNode.id!==t.id&&n.target.id!==e.id&&(t.style.display="none")}))}function p(){const e=localStorage.getItem("DESK")||"Home",t=document.querySelector(".dropdown"),n=t.querySelector(".dropdown__select"),c=t.querySelector(".select__caret"),a=t.querySelector(".dropdown__menu"),o=t.querySelectorAll(".menu__item"),s=t.querySelector(".select__selected");s.innerHTML=e,o.forEach((t=>{t.innerHTML===e&&t.classList.add("active")})),n.addEventListener("click",(function(){n.classList.toggle("select-clicked"),c.classList.toggle("select__caret-rotate"),a.classList.toggle("dropdown__menu-open")})),o.forEach((e=>function(e){e.addEventListener("click",(()=>{const t=document.getElementById("inputId"),o=e.innerText;s.innerText=o,n.classList.remove("select-clicked"),c.classList.remove("select__caret-rotate"),a.classList.remove("dropdown__menu-open"),t.value="",localStorage.setItem("DESK",o),r()}))}(e))),o.forEach((e=>function(e){e.classList.remove("active"),e.classList.add("active")}(e)))}async function _(){const e=document.querySelector(".spinner");e.toggleAttribute("hidden",!1);const t=await fetch("https://63e2831e109336b6cb097eba.mockapi.io/api/pinterest/pinterest-clone").then((e=>e.json())).then((e=>e)).then((e=>e.sort((()=>Math.random()-.5)))).finally((()=>e.toggleAttribute("hidden",!0)));d.result=t,r(t)}window.addEventListener("DOMContentLoaded",(()=>{p()})),_(),u()})();